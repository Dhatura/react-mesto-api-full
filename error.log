{"level":"error","message":"middlewareError","meta":{"date":"Fri Oct 01 2021 21:40:34 GMT+0300 (Moscow Standard Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: res.header is not a function\nTypeError: res.header is not a function\n    at module.exports (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js:15:9)\n    at corsMiddleware (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)","os":{"loadavg":[3.01318359375,2.861328125,2.890625],"uptime":4356308},"process":{"argv":["/usr/local/bin/node","/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/app.js"],"cwd":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18267049,"external":19888822,"heapTotal":59834368,"heapUsed":23871232,"rss":76136448},"pid":3171,"uid":501,"version":"v14.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","access-control-request-headers":"content-type","access-control-request-method":"POST","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3001","referer":"http://localhost:3001/","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-gpc":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36"},"httpVersion":"1.1","method":"OPTIONS","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: res.header is not a function\n    at module.exports (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js:15:9)\n    at corsMiddleware (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)","trace":[{"column":9,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js","function":"module.exports","line":15,"method":"exports","native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"corsMiddleware","line":204,"method":null,"native":false},{"column":5,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js","function":"urlencodedParser","line":91,"method":null,"native":false},{"column":5,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Fri Oct 01 2021 21:41:27 GMT+0300 (Moscow Standard Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: res.header is not a function\nTypeError: res.header is not a function\n    at module.exports (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js:15:9)\n    at corsMiddleware (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)","os":{"loadavg":[3.01513671875,2.89404296875,2.90087890625],"uptime":4356361},"process":{"argv":["/usr/local/bin/node","/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/app.js"],"cwd":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18267049,"external":19888822,"heapTotal":60096512,"heapUsed":23628200,"rss":76062720},"pid":3218,"uid":501,"version":"v14.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","access-control-request-headers":"content-type","access-control-request-method":"POST","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3001","referer":"http://localhost:3001/","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-gpc":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36"},"httpVersion":"1.1","method":"OPTIONS","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: res.header is not a function\n    at module.exports (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js:15:9)\n    at corsMiddleware (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js:91:7)\n    at Layer.handle [as handle_request] (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)","trace":[{"column":9,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/middlewares/cors.js","function":"module.exports","line":15,"method":"exports","native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"corsMiddleware","line":204,"method":null,"native":false},{"column":5,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/body-parser/lib/types/urlencoded.js","function":"urlencodedParser","line":91,"method":null,"native":false},{"column":5,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/alexandrahahina/ProjectsYP/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false}]}}
